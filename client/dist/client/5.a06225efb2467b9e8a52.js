(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{jkDv:function(t,a,e){"use strict";e.r(a),e.d(a,"AdminModule",(function(){return U}));var i=e("tyNb"),c=e("FE47"),o=e("M9IT"),n=e("Dh3D"),s=e("+0xr"),b=e("s7LF"),r=e("iELJ"),l=e("m4/U"),d=e("fXoL"),u=e("yjIK"),m=e("kl6B"),p=e("kmnG"),f=e("d3UM"),h=e("ofXK"),R=e("qFsG"),g=e("bTqV"),w=e("FKr1");function Q(t,a){if(1&t&&(d.Rb(0,"mat-option",15),d.xc(1),d.dc(2,"titlecase"),d.Qb()),2&t){const t=a.$implicit;d.ic("value",t),d.Ab(1),d.zc(" ",d.ec(2,2,t)," ")}}let v=(()=>{class t{constructor(t,a,e,i,c){this.data=t,this.dialogRef=i,this.complaintsService=c,this.complaintForm=a.group({status:[,b.o.required],notes:[""]}),e.getById(this.data.createdBy).subscribe(t=>{this.client=t}),this.complaintForm.patchValue(t),this.statusList=Object.values(l.a)}ngOnInit(){}save(){let t=this.complaintForm.value;if(t.status==this.data.status&&t.notes==this.data.notes)return this.dialogRef.close();t=Object.assign({},this.data,t),this.complaintsService.update(t).subscribe(t=>this.dialogRef.close(t),t=>{})}}return t.\u0275fac=function(a){return new(a||t)(d.Lb(r.a),d.Lb(b.c),d.Lb(u.a),d.Lb(r.g),d.Lb(m.a))},t.\u0275cmp=d.Fb({type:t,selectors:[["admin-complaint-dialog"]],decls:41,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"col","w-50",2,"margin-right","12px"],[1,"row","info-line"],[1,"label"],[1,"value"],[1,"col","w-50",3,"formGroup"],["appearance","outline"],["required","","formControlName","status"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","notes","rows","4"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close","",2,"margin-left","auto"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(t,a){1&t&&(d.Rb(0,"h1",0),d.xc(1,"Complaint Info"),d.Qb(),d.Rb(2,"div",1),d.Rb(3,"div",2),d.Rb(4,"div",3),d.Rb(5,"div",4),d.Rb(6,"span",5),d.xc(7,"Title"),d.Qb(),d.Rb(8,"span",6),d.xc(9),d.Qb(),d.Qb(),d.Rb(10,"div",4),d.Rb(11,"span",5),d.xc(12,"Description"),d.Qb(),d.Rb(13,"span",6),d.xc(14),d.Qb(),d.Qb(),d.Rb(15,"div",4),d.Rb(16,"span",5),d.xc(17,"User Name"),d.Qb(),d.Rb(18,"span",6),d.xc(19),d.Qb(),d.Qb(),d.Rb(20,"div",4),d.Rb(21,"span",5),d.xc(22,"Date"),d.Qb(),d.Rb(23,"span",6),d.xc(24),d.dc(25,"date"),d.Qb(),d.Qb(),d.Qb(),d.Rb(26,"form",7),d.Rb(27,"mat-form-field",8),d.Rb(28,"mat-label"),d.xc(29,"Status"),d.Qb(),d.Rb(30,"mat-select",9),d.wc(31,Q,3,4,"mat-option",10),d.Qb(),d.Qb(),d.Rb(32,"mat-form-field",8),d.Rb(33,"mat-label"),d.xc(34,"Notes"),d.Qb(),d.Mb(35,"textarea",11),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(36,"div",12),d.Rb(37,"button",13),d.xc(38,"Cancel"),d.Qb(),d.Rb(39,"button",14),d.Yb("click",(function(){return a.save()})),d.xc(40,"Save"),d.Qb(),d.Qb()),2&t&&(d.Ab(9),d.yc(a.data.title),d.Ab(5),d.yc(a.data.description),d.Ab(5),d.yc(a.client?a.client.name:"N/A"),d.Ab(5),d.yc(d.fc(25,7,a.data.creationDate,"MMM dd, yyyy hh:mm")),d.Ab(2),d.ic("formGroup",a.complaintForm),d.Ab(5),d.ic("ngForOf",a.statusList),d.Ab(8),d.ic("disabled",a.complaintForm.invalid))},directives:[r.h,r.e,b.p,b.k,b.e,p.c,p.f,f.a,b.n,b.j,b.d,h.k,R.a,b.b,r.c,g.a,r.d,w.h],pipes:[h.e,h.s],styles:[".info-line[_ngcontent-%COMP%]{margin-bottom:6px}.info-line[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:30%;font-weight:700}.info-line[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:70%;word-break:break-word}"]}),t})();var x=e("dNgK"),y=e("Bv6r"),D=e("NFeN"),C=e("Qu3c"),S=e("QmaD");function A(t,a){1&t&&(d.Rb(0,"th",18),d.xc(1," No. "),d.Qb())}function M(t,a){if(1&t&&(d.Rb(0,"td",19),d.xc(1),d.Qb()),2&t){const t=a.index;d.Ab(1),d.zc(" ",t+1," ")}}function O(t,a){1&t&&(d.Rb(0,"th",18),d.xc(1," Title "),d.Qb())}function k(t,a){if(1&t&&(d.Rb(0,"td",19),d.xc(1),d.Qb()),2&t){const t=a.$implicit;d.Ab(1),d.zc(" ",t.title," ")}}function F(t,a){1&t&&(d.Rb(0,"th",20),d.xc(1," Date "),d.Qb())}function L(t,a){if(1&t&&(d.Rb(0,"td",19),d.xc(1),d.dc(2,"date"),d.Qb()),2&t){const t=a.$implicit;d.Ab(1),d.zc(" ",d.fc(2,1,t.creationDate,"MMM dd, yyyy hh:mm")," ")}}function I(t,a){1&t&&(d.Rb(0,"th",18),d.xc(1," Status "),d.Qb())}const N=function(t){return{color:t}};function P(t,a){if(1&t&&(d.Rb(0,"td",21),d.dc(1,"statusColor"),d.xc(2),d.dc(3,"titlecase"),d.Qb()),2&t){const t=a.$implicit;d.ic("ngStyle",d.kc(6,N,d.ec(1,2,t.status))),d.Ab(2),d.zc(" ",d.ec(3,4,t.status)," ")}}function j(t,a){1&t&&d.Mb(0,"th",18)}function B(t,a){if(1&t){const t=d.Sb();d.Rb(0,"td",19),d.Rb(1,"mat-icon",22),d.Yb("click",(function(){d.oc(t);const e=a.index;return d.cc(2).update(e)})),d.xc(2,"edit"),d.Qb(),d.Qb()}}function z(t,a){1&t&&d.Mb(0,"tr",23)}function K(t,a){1&t&&d.Mb(0,"tr",24)}const J=function(){return[10,25,50]};function T(t,a){if(1&t&&(d.Rb(0,"div",4),d.Rb(1,"table",5),d.Pb(2,6),d.wc(3,A,2,0,"th",7),d.wc(4,M,2,1,"td",8),d.Ob(),d.Pb(5,9),d.wc(6,O,2,0,"th",7),d.wc(7,k,2,1,"td",8),d.Ob(),d.Pb(8,10),d.wc(9,F,2,0,"th",11),d.wc(10,L,3,4,"td",8),d.Ob(),d.Pb(11,12),d.wc(12,I,2,0,"th",7),d.wc(13,P,4,8,"td",13),d.Ob(),d.Pb(14,14),d.wc(15,j,1,0,"th",7),d.wc(16,B,3,0,"td",8),d.Ob(),d.wc(17,z,1,0,"tr",15),d.wc(18,K,1,0,"tr",16),d.Qb(),d.Mb(19,"mat-paginator",17),d.Qb()),2&t){const t=d.cc();d.Ab(1),d.ic("dataSource",t.dataSource),d.Ab(16),d.ic("matHeaderRowDef",t.displayedColumns),d.Ab(1),d.ic("matRowDefColumns",t.displayedColumns),d.Ab(1),d.ic("pageSizeOptions",d.jc(4,J))}}function _(t,a){1&t&&(d.Rb(0,"div",4),d.Rb(1,"div",25),d.Rb(2,"h3",26),d.xc(3,"No Data Found"),d.Qb(),d.Qb(),d.Qb())}const q=[{path:"",component:(()=>{class t{constructor(t,a,e){this.dialog=t,this.snackBar=a,this.complaintsService=e,this.displayedColumns=["index","title","creationDate","status","opts"],this.list=[],this.updateDataSource()}ngOnInit(){this.complaintsService.get().subscribe(t=>{this.list=t,this.updateDataSource()},t=>{this.snackBar.open("Failed to get complaints from the server.","OK")})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}updateDataSource(){this.dataSource=new s.k(this.list),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}update(t){this.dialog.open(v,{width:"750px",data:this.list[t]}).afterClosed().subscribe(a=>{a&&(this.list=this.dataSource.data,this.list[t]=a,this.updateDataSource(),this.snackBar.open("Complaint updated successfully.","OK"))})}}return t.\u0275fac=function(a){return new(a||t)(d.Lb(r.b),d.Lb(x.a),d.Lb(m.a))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-admin"]],viewQuery:function(t,a){var e;1&t&&(d.Ac(n.a,!0),d.Ac(o.a,!0)),2&t&&(d.lc(e=d.Zb())&&(a.sort=e.first),d.lc(e=d.Zb())&&(a.paginator=e.first))},decls:8,vars:2,consts:[[1,"page-content"],[1,"custom-box"],[1,"box-header"],["class","box-body",4,"ngIf"],[1,"box-body"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","creationDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-cell","",3,"ngStyle",4,"matCellDef"],["matColumnDef","opts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"ngStyle"],["matTooltip","Update complaint",3,"click"],["mat-header-row",""],["mat-row",""],[1,"row","w-100"],[2,"margin","58px auto"]],template:function(t,a){1&t&&(d.Mb(0,"base-toolbar"),d.Rb(1,"div",0),d.Rb(2,"div",1),d.Rb(3,"div",2),d.Rb(4,"h3"),d.xc(5,"Complaints"),d.Qb(),d.Qb(),d.wc(6,T,20,5,"div",3),d.wc(7,_,4,0,"div",3),d.Qb(),d.Qb()),2&t&&(d.Ab(6),d.ic("ngIf",a.list.length),d.Ab(1),d.ic("ngIf",!a.list.length))},directives:[y.a,h.l,s.j,n.a,s.c,s.e,s.b,s.g,s.i,o.a,s.d,s.a,n.b,h.m,D.a,C.a,s.f,s.h],pipes:[h.e,S.a,h.s],styles:[""]}),t})(),canActivate:[c.a]}];let G=(()=>{class t{}return t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({factory:function(a){return new(a||t)},imports:[[i.b.forChild(q)],i.b]}),t})();var H=e("RCYx");let U=(()=>{class t{}return t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({factory:function(a){return new(a||t)},imports:[[H.a,G]]}),t})()}}]);