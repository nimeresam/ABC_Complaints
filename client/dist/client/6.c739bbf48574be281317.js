(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{kk3Z:function(t,e,a){"use strict";a.r(e),a.d(e,"ClientModule",(function(){return Y}));var i=a("RCYx"),c=a("tyNb"),o=a("FE47"),n=a("M9IT"),s=a("Dh3D"),b=a("+0xr"),r=a("s7LF"),l=a("m4/U"),d=a("fXoL"),m=a("iELJ"),u=a("kl6B"),p=a("kmnG"),f=a("qFsG"),h=a("bTqV");let R=(()=>{class t{constructor(t,e,a){this.dialogRef=e,this.complaintsService=a,this.complaintForm=t.group({title:["",r.o.required],description:["",r.o.required],status:[l.a.pending]})}ngOnInit(){}save(){this.complaintsService.create(this.complaintForm.value).subscribe(t=>this.dialogRef.close(t),t=>{})}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(r.c),d.Lb(m.g),d.Lb(u.a))},t.\u0275cmp=d.Fb({type:t,selectors:[["client-complaint-dialog"]],decls:17,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["appearance","outline"],["matInput","","required","","formControlName","title"],["matInput","","required","","formControlName","description","rows","6"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close","",2,"margin-left","auto"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(d.Rb(0,"h1",0),d.xc(1,"Complaint Form"),d.Qb(),d.Rb(2,"div",1),d.Rb(3,"form",2),d.Rb(4,"mat-form-field",3),d.Rb(5,"mat-label"),d.xc(6,"Title"),d.Qb(),d.Mb(7,"input",4),d.Qb(),d.Rb(8,"mat-form-field",3),d.Rb(9,"mat-label"),d.xc(10,"Description"),d.Qb(),d.Mb(11,"textarea",5),d.Qb(),d.Qb(),d.Qb(),d.Rb(12,"div",6),d.Rb(13,"button",7),d.xc(14,"Cancel"),d.Qb(),d.Rb(15,"button",8),d.Yb("click",(function(){return e.save()})),d.xc(16,"Save"),d.Qb(),d.Qb()),2&t&&(d.Ab(3),d.ic("formGroup",e.complaintForm),d.Ab(12),d.ic("disabled",e.complaintForm.invalid))},directives:[m.h,m.e,r.p,r.k,r.e,p.c,p.f,f.a,r.b,r.n,r.j,r.d,m.c,h.a,m.d],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})();var Q=a("ofXK");let w=(()=>{class t{constructor(t){this.data=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(m.a))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-complaint-info"]],decls:42,vars:14,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"col","w-50",2,"margin-right","12px"],[1,"row","info-line"],[1,"label"],[1,"value"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close","",2,"margin-left","auto"]],template:function(t,e){1&t&&(d.Rb(0,"h1",0),d.xc(1,"Complaint Info"),d.Qb(),d.Rb(2,"div",1),d.Rb(3,"div",2),d.Rb(4,"div",3),d.Rb(5,"div",4),d.Rb(6,"span",5),d.xc(7,"Title"),d.Qb(),d.Rb(8,"span",6),d.xc(9),d.Qb(),d.Qb(),d.Rb(10,"div",4),d.Rb(11,"span",5),d.xc(12,"Description"),d.Qb(),d.Rb(13,"span",6),d.xc(14),d.Qb(),d.Qb(),d.Rb(15,"div",4),d.Rb(16,"span",5),d.xc(17,"Date"),d.Qb(),d.Rb(18,"span",6),d.xc(19),d.dc(20,"date"),d.Qb(),d.Qb(),d.Qb(),d.Rb(21,"div",3),d.Rb(22,"div",4),d.Rb(23,"span",5),d.xc(24,"Status"),d.Qb(),d.Rb(25,"span",6),d.xc(26),d.dc(27,"titlecase"),d.Qb(),d.Qb(),d.Rb(28,"div",4),d.Rb(29,"span",5),d.xc(30,"Action Date"),d.Qb(),d.Rb(31,"span",6),d.xc(32),d.dc(33,"date"),d.Qb(),d.Qb(),d.Rb(34,"div",4),d.Rb(35,"span",5),d.xc(36,"Notes"),d.Qb(),d.Rb(37,"span",6),d.xc(38),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(39,"div",7),d.Rb(40,"button",8),d.xc(41,"Cancel"),d.Qb(),d.Qb()),2&t&&(d.Ab(9),d.yc(e.data.title),d.Ab(5),d.yc(e.data.description),d.Ab(5),d.yc(d.fc(20,6,e.data.creationDate,"MMM dd, yyyy hh:mm")),d.Ab(7),d.yc(d.ec(27,9,e.data.status)),d.Ab(6),d.yc(e.data.changeDate?d.fc(33,11,e.data.changeDate,"MMM dd, yyyy hh:mm"):"N/A"),d.Ab(6),d.yc(e.data.notes||"N/A"))},directives:[m.h,m.e,m.c,h.a,m.d],pipes:[Q.e,Q.s],styles:[""]}),t})();var g=a("dNgK"),v=a("Bv6r"),x=a("NFeN"),y=a("Qu3c"),D=a("QmaD");function C(t,e){1&t&&(d.Rb(0,"th",20),d.xc(1," No. "),d.Qb())}function S(t,e){if(1&t&&(d.Rb(0,"td",21),d.xc(1),d.Qb()),2&t){const t=e.index;d.Ab(1),d.zc(" ",t+1," ")}}function A(t,e){1&t&&(d.Rb(0,"th",20),d.xc(1," Title "),d.Qb())}function k(t,e){if(1&t&&(d.Rb(0,"td",21),d.xc(1),d.Qb()),2&t){const t=e.$implicit;d.Ab(1),d.zc(" ",t.title," ")}}function M(t,e){1&t&&(d.Rb(0,"th",22),d.xc(1," Date "),d.Qb())}function F(t,e){if(1&t&&(d.Rb(0,"td",21),d.xc(1),d.dc(2,"date"),d.Qb()),2&t){const t=e.$implicit;d.Ab(1),d.zc(" ",d.fc(2,1,t.creationDate,"MMM dd, yyyy hh:mm")," ")}}function I(t,e){1&t&&(d.Rb(0,"th",20),d.xc(1," Status "),d.Qb())}const O=function(t){return{color:t}};function N(t,e){if(1&t&&(d.Rb(0,"td",23),d.dc(1,"statusColor"),d.xc(2),d.dc(3,"titlecase"),d.Qb()),2&t){const t=e.$implicit;d.ic("ngStyle",d.kc(6,O,d.ec(1,2,t.status))),d.Ab(2),d.zc(" ",d.ec(3,4,t.status)," ")}}function L(t,e){1&t&&d.Mb(0,"th",20)}function B(t,e){if(1&t){const t=d.Sb();d.Rb(0,"td",21),d.Rb(1,"mat-icon",24),d.Yb("click",(function(){d.oc(t);const a=e.$implicit;return d.cc(2).viewInfo(a)})),d.xc(2,"info"),d.Qb(),d.Rb(3,"mat-icon",25),d.Yb("click",(function(){d.oc(t);const a=e.index;return d.cc(2).deleteComplaint(a)})),d.xc(4,"delete"),d.Qb(),d.Qb()}}function T(t,e){1&t&&d.Mb(0,"tr",26)}function q(t,e){1&t&&d.Mb(0,"tr",27)}const z=function(){return[10,25,50]};function P(t,e){if(1&t&&(d.Rb(0,"div",6),d.Rb(1,"table",7),d.Pb(2,8),d.wc(3,C,2,0,"th",9),d.wc(4,S,2,1,"td",10),d.Ob(),d.Pb(5,11),d.wc(6,A,2,0,"th",9),d.wc(7,k,2,1,"td",10),d.Ob(),d.Pb(8,12),d.wc(9,M,2,0,"th",13),d.wc(10,F,3,4,"td",10),d.Ob(),d.Pb(11,14),d.wc(12,I,2,0,"th",9),d.wc(13,N,4,8,"td",15),d.Ob(),d.Pb(14,16),d.wc(15,L,1,0,"th",9),d.wc(16,B,5,0,"td",10),d.Ob(),d.wc(17,T,1,0,"tr",17),d.wc(18,q,1,0,"tr",18),d.Qb(),d.Mb(19,"mat-paginator",19),d.Qb()),2&t){const t=d.cc();d.Ab(1),d.ic("dataSource",t.dataSource),d.Ab(16),d.ic("matHeaderRowDef",t.displayedColumns),d.Ab(1),d.ic("matRowDefColumns",t.displayedColumns),d.Ab(1),d.ic("pageSizeOptions",d.jc(4,z))}}function j(t,e){1&t&&(d.Rb(0,"div",6),d.Rb(1,"div",28),d.Rb(2,"h3",29),d.xc(3,"No Data Found"),d.Qb(),d.Qb(),d.Qb())}const J=[{path:"",component:(()=>{class t{constructor(t,e,a){this.dialog=t,this.snackBar=e,this.complaintsService=a,this.displayedColumns=["index","title","creationDate","status","opts"],this.list=[],this.updateDataSource()}ngOnInit(){this.complaintsService.get().subscribe(t=>{this.list=t,this.updateDataSource()},t=>{this.snackBar.open("Failed to get complaints from the server.","OK")})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}updateDataSource(){this.dataSource=new b.k(this.list),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}create(){this.dialog.open(R,{width:"400px"}).afterClosed().subscribe(t=>{t&&(this.list=this.list.concat(t),this.updateDataSource(),this.snackBar.open("Complaint sent successfully, will back to you soon.","OK"))})}viewInfo(t){this.dialog.open(w,{width:"750px",data:t})}deleteComplaint(t){let e=this.list[t];0!=confirm("Are you sure?")&&this.complaintsService.deleteById(e.id).subscribe(e=>{this.list.splice(t,1),this.updateDataSource()},t=>{this.snackBar.open("Failed to delete complaint.","OK")})}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(m.b),d.Lb(g.a),d.Lb(u.a))},t.\u0275cmp=d.Fb({type:t,selectors:[["app-client"]],viewQuery:function(t,e){var a;1&t&&(d.Ac(s.a,!0),d.Ac(n.a,!0)),2&t&&(d.lc(a=d.Zb())&&(e.sort=a.first),d.lc(a=d.Zb())&&(e.paginator=a.first))},decls:11,vars:2,consts:[[1,"page-content"],[1,"custom-box"],[1,"box-header"],[1,"box-tools"],["mat-stroked-button","","color","primary",3,"click"],["class","box-body",4,"ngIf"],[1,"box-body"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","creationDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-cell","",3,"ngStyle",4,"matCellDef"],["matColumnDef","opts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"ngStyle"],["matTooltip","view complaint details",3,"click"],["matTooltip","delete complaint","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"row","w-100"],[2,"margin","58px auto"]],template:function(t,e){1&t&&(d.Mb(0,"base-toolbar"),d.Rb(1,"div",0),d.Rb(2,"div",1),d.Rb(3,"div",2),d.Rb(4,"h3"),d.xc(5,"Complaints"),d.Qb(),d.Rb(6,"div",3),d.Rb(7,"button",4),d.Yb("click",(function(){return e.create()})),d.xc(8," Add New "),d.Qb(),d.Qb(),d.Qb(),d.wc(9,P,20,5,"div",5),d.wc(10,j,4,0,"div",5),d.Qb(),d.Qb()),2&t&&(d.Ab(9),d.ic("ngIf",e.list.length),d.Ab(1),d.ic("ngIf",!e.list.length))},directives:[v.a,h.a,Q.l,b.j,s.a,b.c,b.e,b.b,b.g,b.i,n.a,b.d,b.a,s.b,Q.m,x.a,y.a,b.f,b.h],pipes:[Q.e,D.a,Q.s],styles:[""]}),t})(),canActivate:[o.a]}];let K=(()=>{class t{}return t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({factory:function(e){return new(e||t)},imports:[[c.b.forChild(J)],c.b]}),t})(),Y=(()=>{class t{}return t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({factory:function(e){return new(e||t)},imports:[[i.a,K]]}),t})()}}]);